<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/evpi.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_420278_ff6suhdpderyhkt9.css">
    <link rel="stylesheet" href="style/select.css">
    <link rel="stylesheet" href="style/priceAndtype.css">
    <style>
        .dropdown {
            width: 297px;
        }
    </style>
</head>

<body>
    <button class="sdasdw">dsadwsd</button>
    <div class="mask">
        <div class="prop">
            <i class="mask_close iconfont icon-guanbi"></i>
            <h1>设置类型及价格</h1>
            <div class="set">
                <div class="ischeck">
                    <div class="title">
                        <span><input type="checkbox"class="input_check" id="check1"><label for="check1"></label></span>
                        <div>共享方案</div>
                    </div>
                    <div class="write">
                        <label class="mandatory">服务价格</label><input type="text" placeholder="请输入服务价格" disabled class="servicePrice">
                        <span class="unit">康币</span>
                    </div>
                </div>
                <div class="ischeck">
                    <div class="title">
                        <span><input type="checkbox"class="input_check" id="check2"><label for="check2"></label></span>
                        <div>共享方案、康信群支持</div>
                    </div>
                    <div class="write">
                        <label class="mandatory">服务价格</label><input type="text" placeholder="请输入服务名称" disabled class="servicePrice">
                        <span class="unit">康币</span>
                    </div>
                    <div class="write">
                        <label class="mandatory">康信群</label>
                        <select class="">
                            <option value="" data-display-text="JavaScript">None</option>
                            <option value="CoffeeScript">CoffeeScript</option>
                            <option value="Python">Python</option>
                            <option value="freejs.net">freejs.net</option>
                        </select>
                    </div>
                    <div class="write">
                        <label class="mandatory">服务周期</label><input type="text" placeholder="请输入服务周期" disabled>
                        <span class="unit">天</span>
                    </div>
                    <div class="write">
                        <label class="mandatory">续费价格</label><input type="text" placeholder="请输入续费价格" disabled>
                        <span class="unit">康币</span>
                    </div>
                </div>
                <div class="ischeck">
                    <div class="title">
                        <span><input type="checkbox"class="input_check" id="check3"><label for="check3"></label></span>
                        <div>定制方案、一对一支持</div>
                    </div>
                    <div class="write">
                        <label class="mandatory">服务价格</label><input type="text" placeholder="请输入服务价格" disabled class="servicePrice">
                        <span class="unit">康币</span>
                    </div>
                    <div class="write">
                        <label class="mandatory">服务周期</label><input type="text" placeholder="请输入服务周期" disabled>
                        <span class="unit">天</span>
                    </div>
                    <div class="write">
                        <label class="mandatory">续费价格</label><input type="text" placeholder="请输入续费价格" disabled>
                        <span class="unit">康币</span>
                    </div>

                </div>
            </div>
            <div class="confirm_box">
                <button class="confirm">确认</button>
            </div>
        </div>
    </div>

</body>
<script src="js/select.js"></script>

<script>
    $(".sdasdw").click(function() {
        var bheight = $(document).height();
        $(".mask").fadeIn();

        $(".mask").css("height", bheight);

        $('.mask_close').click(function() {
            $(this).parents('.mask').fadeOut();
        });
    })
    $('.optionGroup div').click(function() {
        $(".optionGroup div").eq($(this).index()).addClass("active").siblings().removeClass("active");
        $(".option").eq($(this).index()).addClass("on").siblings().removeClass("on");
    });
    $('.input_check').click(function() {
        if (this.checked) {
            $(this).parents(".ischeck").addClass("checkTrue");
            $(this).parents(".ischeck").find("input").removeAttr("disabled")
        } else {
            $(this).parents(".ischeck").removeClass("checkTrue");
            $(this).parents(".ischeck").find(":text").attr("disabled", true);
        }
    });

    $(".confirm").click(function() {
        var priceList = [];
        $(".checkTrue").each(function(e) {
            var inputval = "";
            var title = $(this).find(".title div").text();
            var price = $(this).find(".servicePrice").val();
            var unit = $(this).find(".servicePrice").next('.unit').text()
            inputval = title + "," + price + unit
                // if ($(this).find(".current").length > 0) {
                //     inputval += $(".current").text();
                // }
                // $(this).find("input:text").each(function(e) {
                //     console.log($(this).val())
                //     inputval += $(this).val();
                // })
            priceList.push(inputval)
            console.log(priceList)
        })
    })
</script>
<script src="js/zm.js"></script>

</html>